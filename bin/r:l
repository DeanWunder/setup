#!/bin/bash

# Check if command executes successfully first
php artisan route:list > /dev/null

# If success, output filtered or full results.
if [ $? -eq 0 ] && [ ! -z "$@" ]; then
    php artisan route:list --json | route_list_one_per_line | grep --color=always "$@" > /tmp/r:l
else
    php artisan route:list --json | route_list_one_per_line > /tmp/r:l
fi

column -t -s" " /tmp/r:l
